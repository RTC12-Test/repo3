name: Scheduled Job with Bash

on:
  push:
    branches:
      - main

jobs:
  cron_check:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Run Test Script
        id: run_test
        run: |
          echo "Running a test script..."
          # Simulate a test command here (e.g., run unit tests)
          if [[ 20 -gt 20000 ]]; then
            echo "Test passed!"
            exit 0
          else
            echo "Test failed!"
            exit 1
          fi

      - name: Output Status with Color
        env:
          COLOR: ${{ job.status == 'success' && '#00FF00' || '#FF0000' }}
        run: |
          echo -e "\033[38;2;${{ env.COLOR }}mâ–  Build Status: $(if [[ ${{ job.status }} == 'success' ]]; then echo SUCCESS; else echo FAILURE; fi)\033[0m"
